# 介绍
5G UPF属于5G网络中重要的网络实体，基于VPP框架，参考free5gc/upf进行设计实现，满足运营商的功能和性能使用。
当前版本遵循3GPP TS29.244 R16。

# 功能列表

| 业务功能 | 二级功能 | 描述 |
|--- | --- | --- |
| N4会话管理 | UPF和SMF偶联管理 | N4会话的建立、修改和删除 |
| | 基于会话的信息上报 | 收集用量信息上报给SMF，指定PDR流量上报 |
| | IP地址和F-TEID分配 |
| 路由和转发功能 | 用户面数据转发 | IP会话的数据转发、数据报文分段、执行PDR动作 |
| | DiffServ功能 | 5QI 或 ARP | 
| | 缓存报文/状态管理 | 标识自身支持数据缓存，缓存首包事件上报 | 
| | End marker | 构造和发送End marker数据报文|
| | 精确路由 | 基于APN/DNN、L3、L7、URL分流 | 
| | 隧道功能 | N3/N9 隧道加封装和解封装 |
| QoS | QoS标记 | 传输参数映射、数据流检测与标记、反射QoS机制 |
| | QoS控制 | 支持基于QER的QoS控制、速率管理、流量监控和控制 | 
| 业务识别功能 | 数据检测和识别 | 识别CN、QFI、网络实例 |
| | 业务解析 | PCF/PCRF业务数据流、SMF业务数据流、协议识别库|
| | 业务识别规则 | 基于L3-L7的字段进行识别，扩展字段包括APN/DNN、URR ID、Application ID |
| 策略执行功能 | 业务规则 | 基于应用标识进行流量处理 |
| | 流量门控 | 对数据报文执行转发或丢弃 |
| | 用量监控和上报 | 基于一个或一组SDF、URR ID | 
| 计费 | 流量统计的上报 | 流量门限、配额进行上报，产生PDR/URR |
| 故障管理 |  | 对节点故障、会话故障和路径故障的处理和恢复 |

# 性能指标
- N4会话数：50万
- 系统吞吐量：100Gbps
- DNN/APN个数：3000个
- N3/N9用户面会话：1千万